#### 前端

--------------

##### 实现简易版游戏引擎（AcGameObject）

- 使每秒钟游戏中所有对象刷新 60 次

------------------

##### 创建游戏环境 AcGamePlayground

------------

##### 创建游戏地图 GameMap

- 每一帧刷背景的时候，刷的是半透明的板子，即 this.ctx.fillStyle = "rgba(0, 0, 0, 0.2)"; （0.2 为透明度）

  则当 player 移动的时候，离 player 越远的轨迹距离当前的时间越长，就会导致被覆盖的层数越多，这样，离当前 player 越远的轨迹越模糊（因为被覆盖了好几层），越近的越清楚

  这样做之后的效果是，player 在移动的时候，会有残影的效果

------------

##### 创建游戏角色 Play

- 特别的，要设置每个角色的速度，且速度是用每秒钟移动高度的百分比来表示速度
- 判断是不是自己的 player，如果是自己的 player，操作方式是键盘和鼠标，如果是敌人的 player，操作方式是通过网络传过来

-------------------------

##### 控制 player 移动

通过鼠标点击来改变速度，从而达到移动的效果

- 首先为自己的 player 加一个监听函数

  该监听函数可以：

  - 在 game_map 里鼠标右键点击之后，不会出现菜单（很恶心），影响鼠标操作移动
  - 获取鼠标右键点击的坐标（move_to 函数的两个参数）
  - 利用 move_to 函数实现移动

- 移动函数 move_to(tx, ty)

  - tx 为目标坐标的横坐标，ty 为目标坐标的纵坐标
  - 通过当前坐标 x，y 和目标坐标 tx, ty，来获取 player 移动的方向和距离（数学问题）

-----------------------------------

##### 角色技能：火球

###### 构造函数中需要传入 player 参数

- 火球攻击之后，计分系统需要知道攻击方，并且攻击方发出的火球不能打自己

###### 火球速度固定（方向固定）

###### 火球有射程

###### 每一帧坐标的变化是通过方向（vx, vy）* 距离（moved）算出

-------------------

##### 实现发火球

- 先知道当前选择了什么技能，cur_skill()知道放了什么技能，并让函数知道该放哪个技能，该不该放技能
- 监听键盘事件，找到键盘按键对应的 keycode，例如 Q 按键的 keycode 为 81
- 为鼠标点击事件添加监听函数，如果要放技能，鼠标左键确定方向
- 实现发射函数 shoot_fireball(tx, ty)，参数为发射目标点
  - 计算 FireBall 类构造函数的各种参数
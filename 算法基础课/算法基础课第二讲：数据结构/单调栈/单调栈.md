#### 单调栈

-----------

##### 一般模型：

1. 给定一个序列，求这个序列里每个数左边离它最近的且比它小的数在什么地方
2. 或者左边离它最近且比它大的数
3. 对称一下，右边离它最近且比它小的数
4. 右边离它最近且比它大的数

----------

##### 考虑方法：

与双指针类似，先考虑暴力做法，在找到两个指针的规律，以降低问题的时间复杂度

###### 暴力做法：

```c++
for (int i = 0; i < n; i ++) // 第一重循环：枚举序列中的每个数
    for (int j = i - 1; j >= 0; j --) // 第二重循环：找到每个数离它最近且比它小的数
        if (a[i] > a[j]) {
            cout << a[j] << endl;
            break;
        }
```

###### 优化做法：![单调栈](C:\Users\冬黎\OneDrive\图片\算法基础课\算法基础课第二讲\单调栈.png)

把每个数左边的数都放在栈里，当 a<sub>x</sub> >= a<sub>y</sub> && x < y，则 a<sub>x</sub> 就可以被删掉，最后栈变成了一个单调递增的，此时只需要比较栈顶元素和每个数的大小，直到 stk [tt] < a<sub>i</sub> ，就找到了 i 左边离它最近且比它小的数，然后再把 a<sub>i</sub> 插入到栈里。